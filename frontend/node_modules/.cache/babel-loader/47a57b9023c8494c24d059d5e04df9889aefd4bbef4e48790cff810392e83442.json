{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\OneDrive\\\\Desktop\\\\zidio project\\\\frontend\\\\src\\\\components\\\\History.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst History = ({\n  onFileSelect\n}) => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    API\n  } = useAuth();\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n  const fetchHistory = async () => {\n    try {\n      setLoading(true);\n      const res = await API.get(\"/upload/history-simple\");\n      setFiles(res.data);\n    } catch (error) {\n      console.error(\"Error fetching history:\", error);\n      // For now, show a message that history requires authentication\n      setFiles([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDCCB Upload History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u23F3 Loading history...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this) : files.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px',\n        color: '#666'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCC1 No files uploaded yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Upload your first Excel file to see it here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: files.map(file => {\n        var _file$columns;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #ddd\",\n            padding: \"15px\",\n            margin: \"10px 0\",\n            borderRadius: \"8px\",\n            background: \"#f9f9f9\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"\\uD83D\\uDCC4 \", file.originalName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCC5 Uploaded: \", new Date(file.createdAt).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCA Columns: \", ((_file$columns = file.columns) === null || _file$columns === void 0 ? void 0 : _file$columns.length) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onFileSelect(file),\n            className: \"btn btn-primary\",\n            style: {\n              marginTop: '10px',\n              padding: '8px 16px',\n              background: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"\\uD83D\\uDD04 Load for Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this)]\n        }, file._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(History, \"BuFibYypMGfJ3uH5rVD3g3iwZjo=\", false, function () {\n  return [useAuth];\n});\n_c = History;\nexport default History;\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsxDEV","_jsxDEV","History","onFileSelect","_s","files","setFiles","loading","setLoading","API","fetchHistory","res","get","data","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","style","textAlign","padding","color","map","file","_file$columns","border","margin","borderRadius","background","originalName","Date","createdAt","toLocaleDateString","columns","onClick","marginTop","cursor","_id","_c","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/Desktop/zidio project/frontend/src/components/History.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst History = ({ onFileSelect }) => {\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { API } = useAuth();\n\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n\n  const fetchHistory = async () => {\n    try {\n      setLoading(true);\n      const res = await API.get(\"/upload/history-simple\");\n      setFiles(res.data);\n    } catch (error) {\n      console.error(\"Error fetching history:\", error);\n      // For now, show a message that history requires authentication\n      setFiles([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h3>üìã Upload History</h3>\n      {loading ? (\n        <p>‚è≥ Loading history...</p>\n      ) : files.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '20px', color: '#666' }}>\n          <p>üìÅ No files uploaded yet</p>\n          <p>Upload your first Excel file to see it here!</p>\n        </div>\n      ) : (\n        <div>\n          {files.map(file => (\n            <div key={file._id} style={{border: \"1px solid #ddd\", padding: \"15px\", margin: \"10px 0\", borderRadius: \"8px\", background: \"#f9f9f9\"}}>\n              <p><strong>üìÑ {file.originalName}</strong></p>\n              <p>üìÖ Uploaded: {new Date(file.createdAt).toLocaleDateString()}</p>\n              <p>üìä Columns: {file.columns?.length || 'N/A'}</p>\n              <button \n                onClick={() => onFileSelect(file)} \n                className=\"btn btn-primary\"\n                style={{ marginTop: '10px', padding: '8px 16px', background: '#007bff', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\n              >\n                üîÑ Load for Analysis\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default History;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}